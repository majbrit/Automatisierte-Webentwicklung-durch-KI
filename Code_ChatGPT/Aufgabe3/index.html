<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Anmeldeformular</title>
  <style>
    :root{
      --bg:#f3f6fb;
      --card:#ffffff;
      --accent:#4f46e5; /* indigo-600 */
      --muted:#6b7280;
      --success:#16a34a;
      --danger:#dc2626;
      --radius:12px;
      --glass: rgba(255,255,255,0.6);
      --max-width:520px;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      background: linear-gradient(180deg,var(--bg), #eaf0ff);
      padding:24px;
      color:#0f172a;
    }

    .card{
      width:100%;
      max-width:var(--max-width);
      background:var(--card);
      border-radius:var(--radius);
      box-shadow: 0 8px 30px rgba(15,23,42,0.08);
      padding:28px;
      backdrop-filter: blur(6px);
      border:1px solid rgba(15,23,42,0.04);
    }

    h1{font-size:1.4rem;margin:0 0 6px}
    p.lead{margin:0 0 18px;color:var(--muted);font-size:0.95rem}

    form{display:grid;gap:14px}

    .field{
      display:flex;flex-direction:column;gap:6px
    }

    label{font-weight:600;font-size:0.92rem}
    input[type="text"], input[type="email"], input[type="number"]{
      padding:12px 14px;
      border-radius:10px;
      border:1px solid rgba(15,23,42,0.08);
      background:linear-gradient(180deg, #fff, #fbfdff);
      font-size:1rem;
      outline:none;
    }

    input:focus{box-shadow:0 0 0 4px rgba(79,70,229,0.08);border-color:var(--accent)}

    .row{display:flex;gap:12px}
    @media (max-width:520px){.row{flex-direction:column}}

    .error{color:var(--danger);font-size:0.88rem;margin-top:4px}
    .hint{color:var(--muted);font-size:0.88rem}

    .actions{display:flex;gap:10px;align-items:center;justify-content:space-between;margin-top:6px}

    button{
      padding:10px 16px;border-radius:10px;border:0;cursor:pointer;font-weight:700;font-size:0.98rem;
      background:linear-gradient(90deg,var(--accent), #7c3aed);color:white;box-shadow:0 6px 18px rgba(79,70,229,0.18);
    }
    button[disabled]{opacity:0.6;cursor:not-allowed;box-shadow:none}

    .secondary{background:transparent;color:var(--accent);border:1px solid rgba(79,70,229,0.12);font-weight:700}

    .notice{padding:12px 14px;border-radius:10px;border:1px solid rgba(15,23,42,0.04);background:var(--glass);}

    .success{border-color:rgba(16,185,129,0.12);background:#ecfdf5;color:var(--success)}
    .failure{border-color:rgba(220,38,38,0.08);background:#fff1f2;color:var(--danger)}

    .sr-only{position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

    footer{margin-top:14px;text-align:center;color:var(--muted);font-size:0.86rem}
  </style>
</head>
<body>
  <main class="card" role="main">
    <h1>Anmeldung</h1>
    <p class="lead">Bitte fülle das Formular aus — Name, E‑Mail und Alter werden benötigt.</p>

    <form id="signupForm" novalidate>
      <div class="field">
        <label for="name">Name</label>
        <input id="name" name="name" type="text" autocomplete="name" placeholder="Max Mustermann" required aria-describedby="nameHelp nameError" />
        <div id="nameHelp" class="hint">Bitte vollständigen Namen eingeben.</div>
        <div id="nameError" class="error" aria-live="polite"></div>
      </div>

      <div class="field">
        <label for="email">E‑Mail</label>
        <input id="email" name="email" type="email" autocomplete="email" placeholder="max@beispiel.de" required aria-describedby="emailError" />
        <div id="emailError" class="error" aria-live="polite"></div>
      </div>

      <div class="field">
        <label for="age">Alter</label>
        <input id="age" name="age" type="number" inputmode="numeric" min="0" max="120" placeholder="30" required aria-describedby="ageHelp ageError" />
        <div id="ageHelp" class="hint">Ganze Zahl zwischen 0 und 120.</div>
        <div id="ageError" class="error" aria-live="polite"></div>
      </div>

      <div class="actions">
        <button type="submit" id="submitBtn">Anmelden</button>
        <button type="button" class="secondary" id="resetBtn">Zurücksetzen</button>
      </div>

      <div id="formMessage" class="notice" role="status" aria-live="polite" style="display:none;margin-top:12px"></div>
    </form>

    <footer>Datenschutz: Diese Demo speichert keine Daten dauerhaft.</footer>
  </main>

  <script>
    (function(){
      const form = document.getElementById('signupForm');
      const submitBtn = document.getElementById('submitBtn');
      const resetBtn = document.getElementById('resetBtn');
      const msg = document.getElementById('formMessage');

      const inputs = {
        name: document.getElementById('name'),
        email: document.getElementById('email'),
        age: document.getElementById('age')
      };

      const errors = {
        name: document.getElementById('nameError'),
        email: document.getElementById('emailError'),
        age: document.getElementById('ageError')
      };

      function clearErrors(){
        Object.values(errors).forEach(e=>{e.textContent=''});
        msg.style.display='none';
        msg.textContent='';
        msg.className='notice';
      }

      function validate(){
        clearErrors();
        let valid = true;

        const nameVal = inputs.name.value.trim();
        if(!nameVal){
          errors.name.textContent = 'Name ist erforderlich.'; valid = false;
        } else if(nameVal.length < 2){
          errors.name.textContent = 'Bitte mindestens 2 Zeichen.'; valid = false;
        }

        const emailVal = inputs.email.value.trim();
        // browser's email type does some checks, but we'll do simple regex too
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/i;
        if(!emailVal){
          errors.email.textContent = 'E‑Mail ist erforderlich.'; valid = false;
        } else if(!emailRegex.test(emailVal)){
          errors.email.textContent = 'Bitte eine gültige E‑Mail-Adresse eingeben.'; valid = false;
        }

        const ageVal = inputs.age.value.trim();
        const ageNum = Number(ageVal);
        if(!ageVal){
          errors.age.textContent = 'Alter ist erforderlich.'; valid = false;
        } else if(!Number.isInteger(ageNum) || ageNum < 0 || ageNum > 120){
          errors.age.textContent = 'Bitte ein gültiges Alter (0–120) als ganze Zahl eingeben.'; valid = false;
        }

        return valid;
      }

      form.addEventListener('submit', function(e){
        e.preventDefault();
        submitBtn.disabled = true;

        const ok = validate();

        if(!ok){
          msg.style.display='block';
          msg.classList.add('failure');
          msg.textContent = 'Bitte korrigiere die markierten Fehler.';
          submitBtn.disabled = false;
          return;
        }

        // Simulierter Submit-Flow (kein echtes Senden)
        msg.style.display='block';
        msg.classList.remove('failure');
        msg.classList.add('success');
        msg.textContent = 'Sende Daten...';

        // kleine Verzögerung zur Simulation
        setTimeout(()=>{
          msg.textContent = `Vielen Dank, ${inputs.name.value.trim()}! Deine Anmeldung wurde erfolgreich entgegengenommen.`;
          // optional: form.reset();
          submitBtn.disabled = false;
        }, 700);
      });

      resetBtn.addEventListener('click', function(){
        form.reset();
        clearErrors();
        inputs.name.focus();
      });

      // Live-Validation: clear specific error when user types
      Object.keys(inputs).forEach(key=>{
        inputs[key].addEventListener('input', ()=>{
          errors[key].textContent = '';
          if(msg.style.display !== 'none'){
            msg.style.display = 'none';
            msg.textContent = '';
            msg.className = 'notice';
          }
        });
      });

      // Accessibility: focus first input
      inputs.name.focus();
    })();
  </script>
</body>
</html>