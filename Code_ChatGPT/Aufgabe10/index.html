<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Scroll-Story — One-Page</title>

  <!-- High-quality fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Playfair+Display:wght@400;700&family=Space+Grotesk:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg-1: #0f172a; /* deep space */
      --accent-1: #6B21A8; /* electric indigo */
      --accent-2: #FF6B6B; /* coral */
      --accent-3: #9AE6B4; /* pistachio */
      --accent-4: #FFD166; /* warm mustard */
      --text: 255 255 255;
      --g1: linear-gradient(120deg,var(--accent-1),var(--accent-2));
      --g2: linear-gradient(120deg,var(--accent-3),var(--accent-4));
      --max-width: 1100px;
    }

    /* Basic reset */
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial}
    body{background:radial-gradient(1200px 600px at 10% 10%, rgba(107,33,168,0.12), transparent), radial-gradient(800px 500px at 90% 90%, rgba(255,107,107,0.08), transparent), var(--bg-1); color:rgb(var(--text)); -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;}

    header{position:fixed;left:0;right:0;top:0;height:76px;display:flex;align-items:center;justify-content:center;z-index:60;backdrop-filter:blur(6px);}
    .brand{font-family:'Playfair Display', serif;font-weight:700;letter-spacing:0.06em;font-size:18px;background:linear-gradient(90deg,var(--accent-1),var(--accent-3));-webkit-background-clip:text;background-clip:text;color:transparent}

    main{max-width:var(--max-width);margin:120px auto; padding:48px 20px 160px;}

    .panel{min-height:80vh;margin:40px 0;display:grid;grid-template-columns:1fr 1fr;gap:36px;align-items:center;padding:48px;border-radius:20px;position:relative;overflow:hidden}
    .panel::after{content:'';position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,0.12),transparent);pointer-events:none}

    /* card style */
    .panel > .visual{height:100%;min-height:320px;border-radius:16px;overflow:hidden;display:flex;align-items:center;justify-content:center;padding:20px}
    .panel > .content{padding:14px 26px}

    h1,h2{margin:0 0 12px 0}
    h1{font-family:'Playfair Display';font-size:44px;line-height:1.02}
    h2{font-family:'Space Grotesk';font-size:22px;color:rgba(255,255,255,0.92)}
    p{margin:0;font-size:17px;color:rgba(255,255,255,0.86);line-height:1.6}

    /* reveal animation */
    .reveal{transform:translateY(18px);opacity:0;transition:transform .9s cubic-bezier(.2,.9,.3,1),opacity .9s ease,filter .9s ease;filter:blur(6px)}
    .reveal.in{transform:none;opacity:1;filter:blur(0)}

    /* beautiful visuals */
    .visual .blob{width:100%;height:100%;min-height:260px;border-radius:14px;background:var(--g1);display:flex;align-items:center;justify-content:center;color:rgba(255,255,255,0.95);font-weight:700;font-family:'Space Grotesk';font-size:28px;transform:translateY(0);transition:transform .95s cubic-bezier(.2,.9,.3,1),filter .6s}

    /* parallax layer */
    .parallax{position:absolute;inset:0;pointer-events:none;transform-origin:center;opacity:0.25}

    /* alternating panels */
    .panel[data-theme="1"]{background:linear-gradient(120deg, rgba(107,33,168,0.12), rgba(9,10,24,0.35));border:1px solid rgba(107,33,168,0.14)}
    .panel[data-theme="2"]{background:linear-gradient(160deg, rgba(255,107,107,0.06), rgba(2,6,23,0.36));border:1px solid rgba(255,107,107,0.12)}
    .panel[data-theme="3"]{background:linear-gradient(120deg, rgba(154,230,180,0.06), rgba(5,7,15,0.36));border:1px solid rgba(154,230,180,0.08)}
    .panel[data-theme="4"]{background:linear-gradient(120deg, rgba(255,209,102,0.06), rgba(4,6,14,0.36));border:1px solid rgba(255,209,102,0.08)}

    /* small screens */
    @media (max-width:850px){
      .panel{grid-template-columns:1fr;}
      h1{font-size:34px}
    }

    /* progress indicator */
    .progress{position:fixed;left:24px;top:50%;transform:translateY(-50%);width:8px;height:40vh;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,0.06),rgba(255,255,255,0.02));padding:6px;z-index:70}
    .progress > i{display:block;width:100%;height:0%;background:linear-gradient(180deg,var(--accent-2),var(--accent-1));border-radius:6px;transition:height .2s linear}

    /* subtle CTA */
    .cta{display:inline-block;margin-top:18px;padding:10px 16px;border-radius:12px;background:linear-gradient(90deg,var(--accent-3),var(--accent-4));color:#072; font-weight:700;text-decoration:none}

    /* accessibility */
    @media (prefers-reduced-motion: reduce){
      .reveal, .visual .blob, .progress > i{transition:none!important}
    }
  </style>
</head>
<body>
  <header>
    <div class="brand">Eine leise Geschichte</div>
  </header>

  <div class="progress" aria-hidden="true"><i id="progFill"></i></div>

  <main id="main">

    <!-- Panel 1 -->
    <section class="panel" data-theme="1" id="p-0">
      <div class="visual" aria-hidden="true">
        <div class="blob" data-speed="0.12">Die Nacht atmet</div>
        <svg class="parallax" width="600" height="400" viewBox="0 0 600 400" preserveAspectRatio="xMidYMid slice" style="right:-6%;bottom:-10%">
          <defs>
            <linearGradient id="gA" x1="0" x2="1"><stop offset="0" stop-color="#6B21A8"/><stop offset="1" stop-color="#FF6B6B"/></linearGradient>
          </defs>
          <circle cx="480" cy="80" r="120" fill="url(#gA)" opacity="0.16"></circle>
        </svg>
      </div>

      <div class="content">
        <h1 class="reveal">Es beginnt mit einem Atemzug.</h1>
        <h2 class="reveal">Die Stadt schläft, und irgendwo wird etwas erinnert.</h2>
        <p class="reveal">Eine Figur auf einem Balkon. Ein Licht im Fenster. Ein Fenster, das die Form eines kleinen Ozeans annimmt — glänzend, ruhig. Du scrollst weiter; das Bild wechselt, aber ein Faden bleibt.</p>
      </div>
    </section>

    <!-- Panel 2 -->
    <section class="panel" data-theme="2" id="p-1">
      <div class="content">
        <h1 class="reveal">Ein Satz auf Papier</h1>
        <h2 class="reveal">Worte werden zu Wasser</h2>
        <p class="reveal">Jemand schreibt eine Nachricht, faltet sie, atmet und schiebt sie unter die Tür — oder vielleicht in ein Buch. Die Tinte fließt. Die Farbe mischt sich mit dem Regen.</p>
        <a class="cta reveal" href="#p-2">weiter folgen</a>
      </div>

      <div class="visual" aria-hidden="true">
        <div class="blob" data-speed="0.18">Tinte</div>
        <svg class="parallax" width="600" height="420" viewBox="0 0 600 420" preserveAspectRatio="xMidYMid slice" style="left:-8%;top:-3%">
          <rect x="10" y="120" width="520" height="240" rx="40" fill="url(#gA)" opacity="0.08"></rect>
        </svg>
      </div>
    </section>

    <!-- Panel 3 -->
    <section class="panel" data-theme="3" id="p-2">
      <div class="visual" aria-hidden="true">
        <div class="blob" data-speed="0.08">Wellen</div>
      </div>
      <div class="content">
        <h1 class="reveal">Und Wellen kommen</h1>
        <h2 class="reveal">Erinnerung ist kein gerades Band</h2>
        <p class="reveal">Die Nachricht reist — im Wasser, in den Taschen, zwischen den Obertönen einer Melodie. Eine Bewegung, die dich weiterträgt. Schau, wie die Farben sich verändern, wie die Nacht nicht mehr ganz dunkel ist.</p>
      </div>
    </section>

    <!-- Panel 4 (final) -->
    <section class="panel" data-theme="4" id="p-3">
      <div class="content">
        <h1 class="reveal">Ankunft</h1>
        <h2 class="reveal">Ein kleines Feuer im Herzen der Welt</h2>
        <p class="reveal">Am Ende bleibt ein Licht, nicht groß, aber echt. Die Geschichte, die du beim Scrollen aufgebaut hast, wird für einen Atemzug greifbar — und dann setzt du weiter, oder vielleicht bleibst du.</p>
      </div>
      <div class="visual" aria-hidden="true">
        <div class="blob" data-speed="0.22">Licht</div>
      </div>
    </section>

  </main>

  <script>
    // Respect user's preference
    const reduce = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    // Reveal elements with IntersectionObserver
    const revealEls = document.querySelectorAll('.reveal');
    const options = {threshold: 0.18};
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if(e.isIntersecting){
          e.target.classList.add('in');
        }
      });
    }, options);
    revealEls.forEach(el=>io.observe(el));

    // Progress indicator
    const prog = document.getElementById('progFill');
    const panels = [...document.querySelectorAll('.panel')];
    function updateProgress(){
      const scrollTop = window.scrollY || document.documentElement.scrollTop;
      const docH = document.documentElement.scrollHeight - window.innerHeight;
      const pct = docH>0? (scrollTop/docH) : 0;
      prog.style.height = (pct*100) + '%';
    }
    window.addEventListener('scroll', updateProgress, {passive:true});
    updateProgress();

    // Parallax blobs and dynamic color switching
    const blobs = document.querySelectorAll('.blob');

    function handleParallax(){
      const center = window.innerHeight/2 + window.scrollY;
      blobs.forEach(b=>{
        const r = b.getBoundingClientRect();
        const speed = parseFloat(b.dataset.speed) || 0.1;
        const offset = (r.top - window.innerHeight/2) * speed * -1;
        b.style.transform = `translateY(${offset}px)`;
      });
    }

    // Change body tint based on active panel (most visible)
    function pickActivePanel(){
      let best = null; let bestArea = 0;
      panels.forEach(p=>{
        const r=p.getBoundingClientRect();
        const top = Math.max(0, Math.min(r.bottom, window.innerHeight) - Math.max(r.top, 0));
        if(top>bestArea){bestArea = top; best = p}
      });
      if(best){
        const theme = best.getAttribute('data-theme');
        switch(theme){
          case '1': document.body.style.background = 'radial-gradient(1200px 600px at 10% 10%, rgba(107,33,168,0.12), transparent), radial-gradient(800px 500px at 90% 90%, rgba(255,107,107,0.04), transparent), #071026'; break;
          case '2': document.body.style.background = 'radial-gradient(1200px 600px at 20% 20%, rgba(255,107,107,0.08), transparent), radial-gradient(800px 500px at 85% 80%, rgba(107,33,168,0.03), transparent), #08121a'; break;
          case '3': document.body.style.background = 'radial-gradient(1200px 600px at 10% 10%, rgba(154,230,180,0.08), transparent), radial-gradient(800px 500px at 90% 90%, rgba(255,209,102,0.03), transparent), #071316'; break;
          case '4': document.body.style.background = 'radial-gradient(1200px 600px at 10% 20%, rgba(255,209,102,0.12), transparent), radial-gradient(800px 500px at 90% 80%, rgba(154,230,180,0.03), transparent), #0a1008'; break;
          default: document.body.style.background = '';
        }
      }
    }

    // throttle
    let ticking=false;
    function onScroll(){
      if(reduce) return; // skip heavy effects
      if(!ticking){
        window.requestAnimationFrame(()=>{
          handleParallax();
          pickActivePanel();
          ticking=false;
        });
        ticking=true;
      }
    }
    window.addEventListener('scroll', onScroll, {passive:true});
    window.addEventListener('resize', ()=>{handleParallax(); pickActivePanel(); updateProgress()});

    // initial run
    handleParallax(); pickActivePanel();

    // Keyboard accessibility: jump with numbers
    document.addEventListener('keydown', (e)=>{
      if(e.key>='1' && e.key<='4'){
        const i = Number(e.key)-1;
        panels[i] && panels[i].scrollIntoView({behavior:'smooth',block:'center'});
      }
    });

    // Small tip for in-page anchor clicks (smooth)
    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener('click', e=>{
        e.preventDefault();
        const id = a.getAttribute('href').slice(1);
        const el = document.getElementById(id);
        if(el) el.scrollIntoView({behavior:'smooth',block:'center'});
      })
    });
  </script>
</body>
</html>
